// https://d3js.org/d3-dsv/ v1.1.0 Copyright 2019 Mike Bostock
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.d3=r.d3||{})}(this,function(r){"use strict";var n={},t={},e=34,o=10,a=13;function u(r){return new Function("d","return {"+r.map(function(r,n){return JSON.stringify(r)+": d["+n+"]"}).join(",")+"}")}function i(r){var n=Object.create(null),t=[];return r.forEach(function(r){for(var e in r)e in n||t.push(n[e]=e)}),t}function f(r){var f=new RegExp('["'+r+"\n\r]"),s=r.charCodeAt(0);function c(r,u){var i,f=[],c=r.length,d=0,l=0,m=c<=0,p=!1;function v(){if(m)return t;if(p)return p=!1,n;var u,i,f=d;if(r.charCodeAt(f)===e){for(;d++<c&&r.charCodeAt(d)!==e||r.charCodeAt(++d)===e;);return(u=d)>=c?m=!0:(i=r.charCodeAt(d++))===o?p=!0:i===a&&(p=!0,r.charCodeAt(d)===o&&++d),r.slice(f+1,u-1).replace(/""/g,'"')}for(;d<c;){if((i=r.charCodeAt(u=d++))===o)p=!0;else if(i===a)p=!0,r.charCodeAt(d)===o&&++d;else if(i!==s)continue;return r.slice(f,u)}return m=!0,r.slice(f,c)}for(r.charCodeAt(c-1)===o&&--c,r.charCodeAt(c-1)===a&&--c;(i=v())!==t;){for(var h=[];i!==n&&i!==t;)h.push(i),i=v();u&&null==(h=u(h,l++))||f.push(h)}return f}function d(n,t){return n.map(function(n){return t.map(function(r){return m(n[r])}).join(r)})}function l(n){return n.map(m).join(r)}function m(r){return null==r?"":r instanceof Date?r.toISOString():f.test(r+="")?'"'+r.replace(/"/g,'""')+'"':r}return{parse:function(r,n){var t,e,o=c(r,function(r,o){if(t)return t(r,o-1);e=r,t=n?function(r,n){var t=u(r);return function(e,o){return n(t(e),o,r)}}(r,n):u(r)});return o.columns=e||[],o},parseRows:c,format:function(n,t){return null==t&&(t=i(n)),[t.map(m).join(r)].concat(d(n,t)).join("\n")},formatBody:function(r,n){return null==n&&(n=i(r)),d(r,n).join("\n")},formatRows:function(r){return r.map(l).join("\n")}}}var s=f(","),c=s.parse,d=s.parseRows,l=s.format,m=s.formatBody,p=s.formatRows,v=f("\t"),h=v.parse,w=v.parseRows,y=v.format,R=v.formatBody,j=v.formatRows;r.dsvFormat=f,r.csvParse=c,r.csvParseRows=d,r.csvFormat=l,r.csvFormatBody=m,r.csvFormatRows=p,r.tsvParse=h,r.tsvParseRows=w,r.tsvFormat=y,r.tsvFormatBody=R,r.tsvFormatRows=j,r.autoType=function(r){for(var n in r){var t,e=r[n].trim();if(e)if("true"===e)e=!0;else if("false"===e)e=!1;else if("NaN"===e)e=NaN;else if(isNaN(t=+e)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(e))continue;e=new Date(e)}else e=t;else e=null;r[n]=e}return r},Object.defineProperty(r,"__esModule",{value:!0})});
